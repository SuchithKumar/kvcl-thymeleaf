<!doctype html>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:replace="~{fragments/layoutFragmentsPrivate :: headFragOld}"></head>

<body class="d-flex flex-column vh-100">

<div th:insert="~{fragments/layoutFragmentsPrivate  :: navFrag}" ></div>

<div th:replace="~{fragments/layoutFragments :: marqueeFrag}"></div>



<div class="vh-100  overflow-auto">
	<div class="d-flex align-items-center justify-content-center text-center">
	<h3>Captain Profile</h3>
	<br>
	</div>
	<div th:if=${profile!=null}>
		<div class="py-3 m-2">
			<section class="mb-5" style="background-color: #f4f5f7;">
			    <div class="row d-flex justify-content-center align-items-center h-30">
			      <div class="col mb-1 mb-lg-0">
			        <div class="card mb-3" style="border-radius: .5rem;">
			          <div class="row row-no-gutters g-0">
			            <div class="col-md-4 text-center text-white"
			              style="border-top-left-radius: .5rem; background-color : #F0F0F0; border-bottom-left-radius: .5rem;">
    			           <img th:src="${profile.photoImg}" alt="Avatar" class="img-fluid my-5" style="width: 200px;" />   
       			          <h4 style="color: black" th:text="${profile.playerName}"></h4>   
			              <h5 style="color: black" th:text="${profile.teamName}"></h5>
			              <p style="color: black;"> Edit Captain Info <a class="btn btn-warning" th:href="${'/user/edit-captain/'+{profile.playerId}}"><i class="fa fa-edit"></i></a></p>
			            </div>
			             <div class="col-md-8">
			              <div class="card-body text-center p-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-4 mb-3">
			                    <h6>Profession | Shop Name | Company</h6>
			                    <p class="text-muted"th:text="${profile.profession}"></p>
			                  </div>
			                  <div class="col-4 mb-3">
			                    <h6>Contact Number</h6>
			                    <p class="text-muted" th:text="${profile.playerPhone}"></p>
			                  </div>
			                  <div class="col-4 mb-3">
			                    <h6>Age</h6>
			                    <p class="text-muted" th:text="${profile.age}"></p>
			                  </div>
			                </div>
			                <hr class="mt-0 mb-4">  
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>Email</h6>
			                    <p class="text-muted"th:text="${profile.playerEmail}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>Address</h6>
			                    <p class="text-muted" th:text="${profile.address}"></p>
			                  </div>
			                </div>
			                <hr class="mt-0 mb-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-4 mb-3">
			                    <h6>Player Gothram</h6>
			                    <p class="text-muted" th:text="${profile.playerGothram}"></p>
			                  </div>
			                   <div class="col-4 mb-3">
			                    <h6>Blood Group</h6>
			                    <p class="text-muted" th:text="${profile.bloodGroup}"></p>
			                  </div>
			                  <div class="col-4 mb-3">
			                    <h6>T Shirt Size</h6>
			                    <p class="text-muted" th:text="${profile.playerShirtSize}"></p>
			                  </div>
			                </div>
			                 <hr class="mt-0 mb-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-3 mb-3">
			                    <h6>Father Name</h6>
			                    <p class="text-muted" th:text="${profile.fatherName}"></p>
			                  </div>
			                  <div class="col-3 mb-3">
			                    <h6>Father Contact</h6>
			                    <p class="text-muted" th:text="${profile.fatherContact}"></p>
			                  </div>
			                  <div class="col-3 mb-3">
			                    <h6>Mother Name</h6>
			                    <p class="text-muted" th:text="${profile.motherName}"></p>
			                  </div>
			                  <div class="col-3 mb-3">
			                    <h6>Mother Contact</h6>
			                    <p class="text-muted" th:text="${profile.motherContact}"></p>
			                  </div>
			                </div>
			                 <hr class="mt-0 mb-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-4 mb-3">
			                    <h6>Player Skill</h6>
			                    <p class="text-muted" th:text="${profile.playerSkill}"></p>
			                  </div>
			                   <div class="col-4 mb-3">
			                    <h6>Batting Style</h6>
			                    <p class="text-muted" th:text="${profile.battingStyle}"></p>
			                  </div>
			                  <div class="col-4 mb-3">
			                    <h6>Bowling Style</h6>
			                    <p class="text-muted" th:text="${profile.bowlingStyle}"></p>
			                  </div>
			                </div>
			              </div>
			            </div>
			          </div>
			        </div>
			      </div>
			    </div>
		  </section>		
		</div>
		</div>

	<div class="py-3 m-2 text-center justify-content-center">
		<pre th:text="${approvalError}" class="text-danger" style="font-weight: bold;"></pre>
		<div th:if="${approvedPlayers!=null and !approvedPlayers.isEmpty()}" >
				<h3 class="text-center">Approved player List</h3>				
				<hr>	
					<table class="table table-responsive table-hover">
						<thead>
							<tr>
								<th>Sl No</th>
								<th>Name</th>
								<th>Phone</th>
								<th>Email</th>
								<th>Gothram</th>
								<th>Player Skill</th>
								<th>T shirt Size</th>
								<th>Reject</th>
							</tr>
						</thead>
						</tbody>
							 <tr th:each="item,stats : ${approvedPlayers}" >
		 					 	<td th:text=${stats.count}></td>
							 	<td th:text=${item.playerName}></td>
							 	<td th:text=${item.playerPhone}></td>
							 	<td th:text=${item.playerEmail}></td>
							 	<td th:text=${item.playerGothram}></td>
							 	<td th:text=${item.playerSkill}></td>
							 	<td th:text=${item.playerShirtSize}></td>
							 	
	 						 	<td th:if="${profile!=null and #strings.equals(item.playerName, profile.playerName)==false}"><a class="btn btn-danger" th:href="@{'/user/reject-player/' + ${item.playerId}}">Reject</a></td>								 	
							 </tr>
						</tbody>
					</table>	
			</div>
	</div>
	<br>

	<div class="py-3 m-2 text-center justify-content-center">
			<div th:if="${unApprovedPlayers!=null and !unApprovedPlayers.isEmpty()}" >
					<h3 class="text-center">Players Waiting for Approval</h3>	
					<h5 class="text-danger">Below players have requested to join your team!</h5>
					<h5 class="text-danger">Click on Approve button if you want to add them to your team</h5>		
					<hr>	
						<table class="table table-responsive table-hover">
							<thead>
								<tr>
									<th>Sl No</th>
									<th>Name</th>
									<th>Phone</th>
									<th>Email</th>
									<th>Gothram</th>
									<th>Player Skill</th>
									<th>T shirt Size</th>
									<th>Approve</th>
								</tr>
							</thead>
							</tbody>
								 <tr th:each="item,stats : ${unApprovedPlayers}" >
			 					 	<td th:text=${stats.count}></td>
								 	<td th:text=${item.playerName}></td>
								 	<td th:text=${item.playerPhone}></td>
								 	<td th:text=${item.playerEmail}></td>
								 	<td th:text=${item.playerGothram}></td>
								 	<td th:text=${item.playerSkill}></td>
								 	<td th:text=${item.playerShirtSize}></td>
		 						 	<td><a class="btn btn-primary" th:href="@{'/user/approve-player/' + ${item.playerId}}">Approve</a></td>								 	
								 </tr>
							</tbody>
						</table>	
			</div>
		</div>
		<br>


	<div class="d-flex align-items-center justify-content-center mb-4" th:if="${addedYourself==false}">
			<a class ="btn btn-warning" href="/user/add-captain">Add Yourself to Team</a>	
		</div>
	<br>
	<br>
	<div class="d-flex align-items-center justify-content-center">
	<h3>Team Details</h3>
	<br>
	</div>
	<div th:if=${team!=null}>
		<div>
			<section class="vh-10" style="background-color: #f4f5f7;">
			  <div class="container h-10">
			    <div class="row d-flex justify-content-center align-items-center h-30">
			      <div class="col mb-1 mb-lg-0">
			        <div class="card mb-3" style="border-radius: .5rem;">
			          <div class="row row-no-gutters g-0">
			            <div class="col-md-4 text-center text-white"
			              style="border-top-left-radius: .5rem; background-color : #F0F0F0; border-bottom-left-radius: .5rem;">
    			           <img th:src="${team.logoImg}" alt="Avatar" class="img-fluid my-5" style="width: 150px;" />   
			              <h5 style="color: black" th:text="${team.name}"></h5>
     		              	<p style="color: black" th:text="${'captain : '+{team.captain}}"></p>			             			           
			            </div>
			            <div class="col-md-8">
			              <div class="card-body text-center p-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>Team Name</h6>
			                    <p class="text-muted"th:text="${team.name}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>Captain</h6>
			                    <p class="text-muted" th:text="${team.captain}"></p>
			                  </div>
			                </div>
			                <hr class="mt-0 mb-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>Reqd accomodation?</h6>
			                    <p class="text-muted" th:text="${team.requireAccomodation}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>Reqd food?</h6>
			                    <p class="text-muted" th:text="${team.requireFood}"></p>
			                  </div>
			                </div>
			                <hr>
			                <div class="row-row-no-gutters pt-1">
		                	  <div class="col-12 mb-3">
			                    <h6>Need accodation for</h6>
			                    <p class="text-muted" th:text="${team.noOfAccomodation}"></p>
			                  </div>
			                </div>
			              </div>
			            </div>
			          </div>
			        </div>
			      </div>
			    </div>
			  </div>
		  </section>		
		</div>
		</div>
		<br>
		<div th:if="${editable.editTeamDetails}">
	 		<div th:if="${team==null}" class="d-flex align-items-center justify-content-center mb-4">
				<a class ="btn btn-warning" href="/user/register-team">Add Team Details</a>	
			</div>	
			<div th:if="${team!=null}" class="d-flex align-items-center justify-content-center mb-4">
				<a class ="btn btn-warning" href="/user/register-team">Edit Team Details</a>	
			</div> 
		</div>
		<div th:if="${editable.editTeamDetails == false}">
			<p class="text-center text-warning" style="font-size: 25px;">Edit Option is Disabled</p>
		</div>
		<br>
		<br>
		<div class="d-flex align-items-center justify-content-center">
		<h3>Vasavi Sangha Details</h3>
		</div>
		<div th:if="${team!=null and team.vsDetails!=null}">	
		<div>
			<section class="vh-10" style="background-color: #f4f5f7;">	
			  <div class="container py-2 h-10">
			    <div class="row d-flex justify-content-center align-items-center h-30">
			      <div class="col mb-1 mb-lg-0">
			        <div class="card mb-3" style="border-radius: .5rem;">
			          <div class="row row-no-gutters g-0">         
			              <div class="card-body text-center p-4">
  			                <div class="row row-no-gutters pt-1">
			                     <div class="col-6 mb-3">
			                    <h6>Name</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vasaviSanghaName}"></p>
			                  </div>
			                   <div class="col-6 mb-3">
			                    <h6>Area</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vasaviSanghaArea}"></p>
			                  </div>
			                </div>
       			             <hr class="mt-0 mb-4">
			                
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>State</h6>
			                    <p class="text-muted"th:text="${team.vsDetails.state}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>City</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.city}"></p>
		                     </div>
		                     </div>     
			                <hr class="mt-0 mb-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>President</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vsPresident}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>President Contact No</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vsPresidentNumber}"></p>
			                  </div>
			                </div>
			                 <hr class="mt-0 mb-4">
			                <div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>Secretary</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vsSecretary}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>Secretary Contact No</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vsSecretaryNumber}"></p>
			                  </div>
			                    <hr class="mt-0 mb-4">
			                	<div class="row row-no-gutters pt-1">
			                  <div class="col-6 mb-3">
			                    <h6>Treasurer</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vsTreasurer}"></p>
			                  </div>
			                  <div class="col-6 mb-3">
			                    <h6>Treasurer Contact No</h6>
			                    <p class="text-muted" th:text="${team.vsDetails.vsTreasurerNumber}"></p>
			                  </div>
			                </div>
			                </div>
			              </div>
			          </div>
			        </div>
			        </div>
			      </div>
			    </div>
		      </section>
			  </div>	
			  <br>
		</div>
		<div th:if="${editable.editVasaviMathaDetails}">
			<div th:if="${team!=null and team.vsDetails==null}" class="d-flex align-items-center justify-content-center mb-4">
				<a class ="btn btn-warning" href="/user/add-sangha-details">Add Vasavi Sangha Details</a>	
			</div>
			<div th:if="${team!=null and team.vsDetails!=null}" class="d-flex align-items-center justify-content-center mb-4">
				<a class ="btn btn-warning" href="/user/edit-vasavi-sangha-details">Edit Vasavi Sangha Details</a>	
			</div> 
		</div>
		<div th:if="${editable.editVasaviMathaDetails == false}">
			<p class="text-center text-warning" style="font-size: 25px;">Edit Option is Disabled</p>
		</div>
		<br>
		<div class="d-flex align-items-center justify-content-center">
		<h3>Payment Details</h3>
		</div>
		<div th:if="${team!=null and team.paymentInfoDB!=null}">	
		<div>
			<section class="vh-10" style="background-color: #f4f5f7;">	
			  <div class="container py-2 h-10">
			    <div class="row d-flex justify-content-center align-items-center h-30">
			      <div class="col mb-1 mb-lg-0">
			        <div class="card mb-3" style="border-radius: .5rem;">
			          <div class="row row-no-gutters g-0">         
			              <div class="card-body text-center p-4">
			                    <h6>Payment Screenshot</h6>
			                   <img th:src="${team.paymentInfoImg}" alt="Avatar" class="img-fluid my-5" style="width: 200px;" />
			                  </div>			                
			                </div>
			          </div>
			        </div>
			      </div>
			    </div>
		      </section>
			  </div>	
			  <br>		  
		</div>
		<div th:if="${editable.editPaymentDetails}">
			 <div th:if="${team!=null and team.vsDetails!=null and team.paymentInfoDB==null}" class="d-flex align-items-center justify-content-center mb-4">
				<a class ="btn btn-warning" href="/user/add-payment-details">Add Payment Details</a>	
			</div>	
			<div th:if="${team!=null and team.vsDetails!=null and team.paymentInfoDB!=null}" class="d-flex align-items-center justify-content-center mb-4">
				<a class ="btn btn-warning" href="/user/add-payment-details">Edit Payment Details</a>	
			</div>
		</div>
		<div th:if="${editable.editPaymentDetails == false}">
			<p class="text-center text-warning" style="font-size: 25px;">Edit Option is Disabled</p>
		</div>
		<!-- <div th:if="${team!=null and team.vsDetails!=null and team.paymentInfoDB!=null}" class="d-flex align-items-center justify-content-center mb-4">
			<h4>Thanks for completing the phase 1 of the registration process. we will review the details and get back for phase 2 of the registration process üôè</h4>	
		</div>	 --> 

	<br>
</div>

<div th:replace="~{fragments/layoutFragmentsPrivate :: footFrag}"></div>

</body>
</html>